@{
    ViewBag.Title = "Form Test Screen";
}
<!--Script References -->
<!--Reference the jQuery library. -->
<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<!--Reference the SignalR library. -->
<script src="~/Scripts/jquery.signalR-2.2.2.min.js"></script>
<!--Reference the autogenerated SignalR hub script. -->
<script src="../signalr/hubs"></script>
<script src="~/Scripts/form.js"></script>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/form.css" rel="stylesheet" />
@Scripts.Render("~/bundles/bootstrap")

<form id="1" style="border:dashed; margin-bottom: 15px; padding-left: 5px">
    <div class="form-group">
        <label for="exampleFirstName">First Name</label>
        <input id="firstName" type="text" class="form-control" aria-describedby="emailHelp" placeholder="Enter First Name">
        <small id="firstNameHelp" class="form-text text-muted">We'll never share your personal information.</small>
    </div>
    <div class="form-group">
        <label for="exampleInputEmail1">Email Address</label>
        <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
    </div>
</form>

<form id="2" style="border:dashed; margin-bottom: 15px; padding-left: 5px">
    <div class="form-group">
        <label for="exampleInputPassword1">Password</label>
        <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
    </div>
</form>


<div class="row">
    <div class="col-sm-5">

        <form role="form" id="3">
            <div class="form-group float-label-control">
                <label for="country">First Name</label>
                <input id="country" type="text" class="form-control" placeholder="Country">
            </div>
            <div class="form-group float-label-control">
                <label for="city">Last Name</label>
                <input id="city" type="text" class="form-control" placeholder="City">
            </div>
            <div class="form-group float-label-control">
                <label for="age">Age</label>
                <input id="age" type="number" class="form-control" placeholder="Age">
            </div>
        </form>

    </div>
    <div class="col-sm-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">
                    Features
                </h3>
            </div>
            <div class="panel-body">
                <ul>
                    <li>Instructions might go here</li>
                    <li>Speak clearly</li>
                    <li>Do not scream</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!--Add script to update the page.-->
<script type="text/javascript">

    let updateFormsVisibility = function (formToDisplay) {
        $('form').hide();
        $('#' + formToDisplay).show();
    }

    let updateFirstNameInput = function (newFirstName) {
        $('#firstName').val(newFirstName);
    }

    //Start SignalR Connection with Server
    $.connection.hub.start()
        .done(function () {
            console.log('SignalR connection stablished');
            //$.connection.alexaHub.server.updateFormVisibility("DING DING DING");
        })
        .fail(function () {
            console.log('SignalR connection failed')
        });

    $.connection.alexaHub.client.updateFormVisibility = function (formId) {
        console.log(formId);
        updateFormsVisibility(formId);
    }

    $.connection.alexaHub.client.updateFirstNameInputField = function (firstName) {
        console.log(firstName);
        updateFirstNameInput(firstName);
    }

</script>